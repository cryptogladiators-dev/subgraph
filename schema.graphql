enum BUSDTransactionType {
  DEPOSIT
  WITHDRAWAL
}

enum ItemTransactionType {
  SINGLE
  BATCH
}

type Player @entity(immutable: true) {
  id: ID!
}

type BUSDTransaction @entity(immutable: true) {
  id: ID!
  value: BigInt!
  player: Player!
  type: BUSDTransactionType!
  createdAt: BigInt!
  blockNumber: Int!
}

type Item @entity {
  id: ID!
  total: BigInt!
  inStock: BigInt!
  transactions: [ItemTransaction!]! @derivedFrom(field: "items")
}

type ItemTransaction @entity(immutable: true) {
  id: ID!
  from: Player!
  to: Player!
  items: [Item!]!
  values: [BigInt!]!
  type: ItemTransactionType!
  isGameTransaction: Boolean!
  createdAt: BigInt!
  blockNumber: Int!
}
